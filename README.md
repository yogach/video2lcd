平台：s3c2440 内核版本：linux-3.4.2 文件系统：

描述：本代码实现了从摄像头设备（/dev/video*）设备读取数据并显示到LCD上的功能。支持RGB565、YUYV422、MJPEG格式输入像素格式，支持RGR565、RGB32的输出像素格式。支持Streaming或read/wrtite获取数据的摄像头设备。


1)摄像头原始数据的获取
使用V4L2驱动打开video设备，设备打开后，通过一系列的ioctl()获取设备类型（检查该设备是不是一个V4L2_CAP_VIDEO_CAPTURE设备），支持的像素格式，支持的操作IO模式，设置分辨率。

分配buffer与读取数据，根据IO操作有不同的设置：
streaming方式：
    显存分配：首先申请buffer，申请完成后，将每一个buff取出队列，mmap到指定数组中。
    数据读取：使用poll机制等待驱动通知可读。可以进行读取时，使用ioctl()取出队列，此时可对对应队列的数据进行操作。

Read/write方式:
    V4L2_PIX_FMT_YUYV, V4L2_PIX_FMT_MJPEG, V4L2_PIX_FMT_RGB565
    显存分配：malloc一个空间，大小为所支持的三个像素格式中最大的一个。
    数据读取：使用read()函数进行读取。


2)输出数据格式的确定：由LCD本身的bpp选择输出的像素格式，如果是16bit则是RGB565，32bit则是RGB32

硬件上LCD的bpp是确定的，比如说看该款LCD，有24条数据线。即每个像素可以用24bit来表示。
是不是有多少条数据线，我就得用多少条呢？这是不一定的。
比如说
R0~R7，我只用5条，其他接地
G0~G7，我只用6条，其他接地
B0~B7，我只用5条，其他接地
总共需要5+6+5=16条线，即每个像素占据16位的数据                                                          

硬件接线图与驱动内写入的fb_var_screeninfo.bits_per_pixel决定。

2）RGB565、YUYV422、MJPEG的数据转换成RGR565或RGB32：
RGB565->RGR565 RGB565->RGB32
相同格式下可直接进行拷贝。 

YUYV422->RGR565 YUYV422->RGB32
参考luvcview库代码


MJPEG ->RGR565 MJPEG ->RGB32
MJPEG格式的数据即传输过来的数据每一帧都是一张JPG图片。使用jpeg库对数据进行解析。参考电子相框中已经实现的对JPG图片的解析，需要将JPG数据的来源从文件指针获取改为从内存空间获取。



3）图片数据缩放
等同与数码相框第3点。



4）摄像头数据的显示
首先进行电子书项目第7点的操作。完成/dev/fb*设备的初始化后，将缩放完的数据直接拷贝到LCD的framebuf上，即可实现摄像头采集数据的显示。
